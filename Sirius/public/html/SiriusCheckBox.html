<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>SiriusCheckbox Example</title>
    <link href="../css/SiriusCheckbox.css" rel="stylesheet">
    <script defer src="../js/SiriusCheckbox.js" type="module"></script>
    <script defer src="../js/Sirius.js" type="module"></script>

    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 5rem;
            margin: 0;
        }

        .checkboxes-container {
            display: grid;
            grid-auto-rows: max-content;
            grid-template-columns: 1fr;
            place-items: center;
            gap: 1rem;
        }

        .checkboxes-container > * {
            grid-column: 1/-1;
            border: 1px solid black;
            padding: 1rem;
        }

        .grandparent {
            background-color: darkgreen;
        }

        .parent {
            background-color: green;
        }

        .child {
            background-color: lightblue;
        }
    </style>
</head>
<body>

<div class="checkboxes-container">
<sirius-checkbox id="checkbox-1" icon-height="0.5rem" icon-width="0.5rem" styles="gap: 0.5rem" checkbox-order="1">
    <sirius-label slot="label" id="checkbox-1__label" caption="Look how I check the one below!"></sirius-label>
</sirius-checkbox>
</div>

<script type="module">
    import sirius from '../js/Sirius.js';
    import SiriusCheckbox, {SIRIUS_CHECKBOX_ATTRIBUTES, SIRIUS_CHECKBOX_PROPERTIES} from '../js/SiriusCheckbox.js';
    import {SIRIUS_ELEMENT_REQUIRED_ATTRIBUTES, SIRIUS_ELEMENT_ATTRIBUTES} from "../js/SiriusElement.js";
    import SiriusLabel, {SIRIUS_LABEL_ATTRIBUTES} from "../js/SiriusLabel.js";
    import {SIRIUS_CONTROL_ELEMENT_ATTRIBUTES, SIRIUS_CONTROL_ELEMENT_PROPERTIES} from "../js/SiriusControlElement.js";

    // Get the attribute keys
    const idKey = SIRIUS_ELEMENT_REQUIRED_ATTRIBUTES.ID;
    const stylesKey = SIRIUS_ELEMENT_ATTRIBUTES.STYLES;
    const stylesOnHoverKey = SIRIUS_ELEMENT_ATTRIBUTES.STYLES_ON_HOVER;
    const parentIdKey = SIRIUS_CONTROL_ELEMENT_ATTRIBUTES.PARENT_ID;
    const captionKey = SIRIUS_LABEL_ATTRIBUTES.CAPTION;
    const iconWidthKey = SIRIUS_CHECKBOX_ATTRIBUTES.ICON_WIDTH;
    const iconHeightKey = SIRIUS_CHECKBOX_ATTRIBUTES.ICON_HEIGHT;
    const iconFillKey = SIRIUS_CHECKBOX_ATTRIBUTES.ICON_FILL;
    const iconStylesKey = SIRIUS_CHECKBOX_ATTRIBUTES.ICON_STYLES
    const iconStylesOnHoverKey = SIRIUS_CHECKBOX_ATTRIBUTES.ICON_STYLES_ON_HOVER
    const iconStylesOnActiveKey = SIRIUS_CHECKBOX_ATTRIBUTES.ICON_STYLES_ON_ACTIVE

    // Get the properties keys
    const labelKey = SIRIUS_CHECKBOX_PROPERTIES.LABEL
    const childrenKey = SIRIUS_CONTROL_ELEMENT_PROPERTIES.CHILDREN

    // Get the container
    const checkboxesContainer = document.querySelector('.checkboxes-container');

    // Wait for the DOM to be fully loaded
    sirius.onLoaded = async () => {
        // Create the checkbox with a label
        const siriusCheckbox2 = new SiriusCheckbox({
            [idKey]: 'checkbox-2',
            [parentIdKey]: "checkbox-1",
            [iconFillKey]: 'blue',
            [iconWidthKey]: '50px',
            [iconHeightKey]: '50px',
            [stylesKey]: `
                background-color: yellow;
                border: 1px dashed red;
                padding: 1rem;
            `,
            [stylesOnHoverKey]: `
                background-color: red;
                border: 5px solid black;
                width: 200%;
            `,
            [iconStylesKey]: `
                background-color: yellow;
                border: 1px solid black;
                padding: 1rem;
            `,
            [iconStylesOnHoverKey]: `
                background-color: red;
            `,
            [iconStylesOnActiveKey]: `
                background-color: green;
            `,
            [labelKey]: new SiriusLabel({
                [idKey]: 'checkbox-2__label',
                [captionKey]: 'Hover me!',
            }),
        });
        checkboxesContainer.appendChild(siriusCheckbox2);

        // Create the checkbox without a label
        const siriusCheckbox3 = new SiriusCheckbox({
            [idKey]: 'checkbox-3'
        });
        checkboxesContainer.appendChild(siriusCheckbox3);

        // Create the first parent container
        const parentContainer1 = document.createElement('div');
        parentContainer1.classList.add('checkboxes-container');
        checkboxesContainer.appendChild(parentContainer1);

        const siriusCheckbox5 = new SiriusCheckbox({
            [idKey]: 'checkbox-5',
            [labelKey]: new SiriusLabel({
                [idKey]: 'checkbox-5__label',
                [captionKey]: 'Child 1 (Parent 1)',
            })
        });
        parentContainer1.appendChild(siriusCheckbox5);

        const siriusCheckbox6 = new SiriusCheckbox({
            [idKey]: 'checkbox-6',
            [labelKey]: new SiriusLabel({
                [idKey]: 'checkbox-6__label',
                [captionKey]: 'Child 2 (Parent 1)',
            })
        });
        parentContainer1.appendChild(siriusCheckbox6);

        const siriusCheckbox7 = new SiriusCheckbox({
            [idKey]: 'checkbox-7',
            [labelKey]: new SiriusLabel({
                [idKey]: 'checkbox-7__label',
                [captionKey]: 'Child 3 (Parent 2)',
            })
        });
        parentContainer1.appendChild(siriusCheckbox7);

        // Create the parent checkbox
        const siriusCheckbox4 = new SiriusCheckbox({
            [idKey]: 'checkbox-4',
            [labelKey]: new SiriusLabel({
                [idKey]: 'checkbox-4__label',
                [captionKey]: 'Parent 1',
            }),
            [childrenKey]: [siriusCheckbox5, siriusCheckbox6, siriusCheckbox7]
        });
        checkboxesContainer.appendChild(siriusCheckbox4);

        // Create the second parent container
        const parentContainer2 = document.createElement('div');
        parentContainer2.classList.add('checkboxes-container');
        parentContainer1.appendChild(parentContainer2);

        const siriusCheckbox8 = new SiriusCheckbox({
            [idKey]: 'checkbox-8',
        });
        siriusCheckbox8.label = new SiriusLabel({
            [idKey]: 'checkbox-8__label',
            [captionKey]: 'Child 4 (Parent 2)',
        });
        parentContainer2.appendChild(siriusCheckbox8);

        // Add children to the checkbox
        siriusCheckbox8.parentId = siriusCheckbox7.id
        siriusCheckbox8.onBuilt = ()=>siriusCheckbox8.label.caption = 'Grand child 1';
    };

</script>

</body>
</html>