<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Popup Menu</title>
    <script type="module" src="../js/Sirius.js"></script>
    <script type="module" src="../js/SiriusElement.js"></script>
    <link rel="stylesheet" href="../css/PopupMenu.css">
    <script type="module" src="../js/PopupMenu.js"></script>
</head>
<body>
    <popup-menu id="menu-principal"></popup-menu>
    <script type="module">
        import { PopupMenu } from "../js/PopupMenu.js";
    
        document.addEventListener("DOMContentLoaded", () => {
            const menu = document.querySelector("popup-menu");
            menu.setTitle("Test Menu");
            if (menu instanceof PopupMenu) {
                menu.addOption({
                    id: 1,
                    text: 'Option 1',
                    action: 'option-1',
                    nextLevel: 1,
                    priorLevel: null,
                    level: 0
                });
                menu.addOption({
                    id: 2,
                    text: 'Option 2',
                    action: 'option-2',
                    nextLevel: 2,
                    priorLevel: null,
                    level: 0
                });
                menu.addOption({
                    id: 3,
                    text: 'Sub-option 1',
                    action: 'sub-option-1',
                    nextLevel: 3,
                    priorLevel: 0,
                    level: 1
                });
                menu.addOption({
                    id: 7,
                    text: 'Sub-option 5',
                    action: 'sub-option-5',
                    nextLevel: null,
                    priorLevel: 0,
                    level: 1
                });
                menu.addOption({
                    id: 8,
                    text: 'Sub-option 6',
                    action: 'sub-option-6',
                    nextLevel: null,
                    priorLevel: 0,
                    level: 1
                });
                menu.addOption({
                    id: 4,
                    text: 'Sub-option 2',
                    action: 'sub-option-2',
                    nextLevel: null,
                    priorLevel: 0,
                    level: 1
                });
                menu.addOption({
                    id: 5,
                    text: "Suboption 3",
                    action: "suboption-3",
                    nextLevel: null,
                    priorLevel: 0,
                    level: 2
                });
                menu.addOption({
                    id: 6,
                    text: "Suboption 4",
                    action: "suboption-4",
                    nextLevel: null,
                    priorLevel: 1,
                    level: 3
                });
                menu.addFixedOption({
                    id: "fixed-1",
                    text: "Home",
                    action: "home",
                });
                menu.addFixedOption({
                    id: "fixed-2",
                    text: "Settings",
                    action: "settings",
                });
                menu.addFixedOption({
                    id: "fixed-3",
                    text: "Profile",
                    action: "profile",
                });
                console.log("Carga exitosa");
            } else {
                console.error("PopupMenu instance not found or not correctly initialized:", menu);
            }
    
            menu.addEventListener("option-selected", (e) => {
                console.log("Selected Action:", e.detail.action);
            });
        });
    </script>
</body>
</html>
